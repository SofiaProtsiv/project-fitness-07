import{A as a}from"./index-d7b77e2a.js";const o=document.querySelector(".scrollup__btn"),n=function(){window.scrollY<300?o.classList.add("visually-hidden"):o.classList.remove("visually-hidden")};window.addEventListener("scroll",n);o.addEventListener("click",i);function i(){window.scrollTo({top:0,behavior:"smooth"})}function l(t){return t.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/)}const e={form:document.querySelector(".footer__form"),emailInput:document.querySelector(".footer__form__input"),message:document.querySelector(".footer__form__message"),btn:document.querySelector(".footer__form__btn")};e.form.addEventListener("submit",d);async function d(t){t.preventDefault();const r=t.target.elements.email.value.trim().toLowerCase();if(l(r))try{const s=new a;s.email=r,await s.subscribe(),e.message.textContent="✅ Thank you for you subscription",e.message.classList.remove("full_hidden","footer__form__message_waring"),e.message.classList.add("footer__form__message_ok"),console.log("ok"),t.target.reset()}catch{e.message.textContent="⚠️ This email address was previously added",e.message.classList.remove("full_hidden","footer__form__message_ok"),e.message.classList.add("footer__form__message_warning")}else e.message.textContent="⚠️ Your email has wrong format",e.message.classList.remove("full_hidden","footer__form__message_ok"),e.message.classList.add("footer__form__message_warning")}e.emailInput.addEventListener("input",m);function m(t){t.target.value.trim()?e.btn.disabled=!1:e.btn.disabled=!0}e.emailInput.addEventListener("focus",c);function c(){e.message.classList.add("full_hidden")}const u=document.querySelector(".loader"),_=document.querySelector(".content-wrapper");function f(){u.classList.add("hide"),_.classList.remove("hide")}window.addEventListener("load",f);export{l as i};
